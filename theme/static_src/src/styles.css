@import "tailwindcss";

/* =========================================================
 * DaisyUI plugin + Themes
 * =======================================================*/
@plugin "daisyui" {
  themes:
    corporate --default,
    business,
    winter,
    luxury,
    dim,
    forest,
    dracula,
    abyss,
    night;
}

/* Scan templates & code that include Tailwind classes */
@source "../../../**/*.{html,py,js}";

/* =========================================================
 * DESIGN TOKENS (Central, stable, enterprise defaults)
 * - Works with DaisyUI component variables
 * =======================================================*/
@layer base {
  :root {
    /* Typography */
    --ui-font-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial,
      "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    --ui-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
      "Courier New", monospace;

    /* Rhythm */
    --ui-radius-sm: 0.625rem;   /* 10px */
    --ui-radius-md: 0.875rem;   /* 14px */
    --ui-radius-lg: 1.125rem;   /* 18px */

    /* Elevation (subtle, enterprise) */
    --ui-shadow-sm: 0 1px 2px rgba(15, 23, 42, 0.06), 0 1px 1px rgba(15, 23, 42, 0.04);
    --ui-shadow-md: 0 10px 25px rgba(15, 23, 42, 0.08), 0 4px 10px rgba(15, 23, 42, 0.06);

    /* Focus */
    --ui-focus-ring: 0 0 0 3px color-mix(in oklab, oklch(var(--p)) 35%, transparent);

    /* DaisyUI component shape tokens (supported by DaisyUI) */
    --rounded-box: var(--ui-radius-md);
    --rounded-btn: var(--ui-radius-sm);
    --rounded-badge: 9999px;
    --tab-radius: var(--ui-radius-sm);

    /* DaisyUI sizing tokens */
    --btn-text-case: none;
    --btn-focus-scale: 1;
  }

  html {
    @apply scroll-smooth;
    font-family: var(--ui-font-sans);
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply min-h-screen bg-base-100 text-base-content;
    line-height: 1.55;
  }

  /* Links: enterprise clean (no heavy underline everywhere) */
  a {
    text-decoration: none;
  }
  a:hover {
    text-decoration: none;
  }

  /* Better selection */
  ::selection {
    background: color-mix(in oklab, oklch(var(--p)) 22%, transparent);
  }

  /* Consistent monospaced areas */
  code, pre, kbd, samp {
    font-family: var(--ui-font-mono);
  }

  /* Inputs & selects: fix dark theme dropdown contrast */
  select,
  option {
    @apply bg-base-100 text-base-content;
  }

  /* Accessibility: unified focus */
  :where(a, button, input, select, textarea, summary, [tabindex]):focus-visible {
    outline: none;
    box-shadow: var(--ui-focus-ring);
    border-radius: var(--ui-radius-sm);
  }

  /* Reduce motion for users who request it */
  @media (prefers-reduced-motion: reduce) {
    * {
      scroll-behavior: auto !important;
      transition: none !important;
      animation: none !important;
    }
  }

  /* Dark theme refinements (business) */
  [data-theme="business"] body {
    @apply bg-base-100 text-base-content;
  }
}

/* =========================================================
 * COMPONENTS – enterprise consistency for DaisyUI building blocks
 * =======================================================*/
@layer components {
  /* ---------------------------
   * Cards (consistent & official)
   * ---------------------------*/
  .card {
    border-radius: var(--ui-radius-md);
  }

  /* Main content cards */
  .card.bg-base-100 {
    border: 1px solid color-mix(in oklab, oklch(var(--bc)) 12%, transparent);
    box-shadow: var(--ui-shadow-sm);
  }

  /* Soft section cards */
  .card.bg-base-200\/40 {
    border: 1px solid color-mix(in oklab, oklch(var(--bc)) 18%, transparent);
    box-shadow: none;
  }

  /* ---------------------------
   * Buttons (unify feel across pages)
   * ---------------------------*/
  .btn {
    font-weight: 600;
    letter-spacing: 0.01em;
    border-width: 1px;
    border-radius: var(--ui-radius-sm);
    transition: transform 120ms ease, filter 120ms ease, background-color 120ms ease,
      border-color 120ms ease;
  }

  /* Enforce small as default in CRUD pages visually (you still choose btn-sm in templates) */
  .btn.btn-sm {
    min-height: 2.25rem;
    height: 2.25rem;
    padding-inline: 0.875rem;
  }

  .btn.btn-xs {
    min-height: 1.75rem;
    height: 1.75rem;
    padding-inline: 0.625rem;
    font-weight: 600;
  }

  .btn:active {
    transform: translateY(0.5px);
    filter: saturate(1.02);
  }

  /* Improve outline buttons clarity */
  .btn-outline {
    border-color: color-mix(in oklab, oklch(var(--bc)) 18%, transparent);
  }

  /* Destructive outline: consistent */
  .btn-outline.btn-error {
    border-color: color-mix(in oklab, oklch(var(--er)) 55%, transparent);
  }

  /* ---------------------------
   * Tables (enterprise readable)
   * ---------------------------*/
  .table {
    border-radius: var(--ui-radius-md);
  }

  .table thead th {
    @apply text-xs font-semibold uppercase tracking-wide;
    background: color-mix(in oklab, oklch(var(--b2)) 92%, transparent);
    color: color-mix(in oklab, oklch(var(--bc)) 70%, transparent);
  }

  /* Zebra rows: reduce fatigue */
  .table.table-zebra tbody tr:nth-child(even) {
    background: color-mix(in oklab, oklch(var(--b2)) 30%, transparent);
  }

  .table tbody tr:hover {
    background: color-mix(in oklab, oklch(var(--b2)) 55%, transparent);
  }

  /* Keep action columns visually aligned */
  .table td:last-child,
  .table th:last-child {
    text-align: right;
  }

  /* Truncation helper (use on long cells) */
  .cell-truncate {
    max-width: 22rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* ---------------------------
   * Badges (uniform)
   * ---------------------------*/
  .badge.badge-sm {
    font-weight: 700;
    letter-spacing: 0.01em;
  }

  /* ---------------------------
   * Forms (clean labels, consistent spacing)
   * ---------------------------*/
  .label-text {
    letter-spacing: 0.01em;
  }

  /* Inputs focus (without relying on Daisy classes) */
  .input:focus,
  .select:focus,
  .textarea:focus {
    outline: none;
    box-shadow: var(--ui-focus-ring);
    border-color: color-mix(in oklab, oklch(var(--p)) 55%, transparent);
  }
}

/* =========================================================
 * UTILITIES
 * =======================================================*/
@layer utilities {
  /* Soft border utility used across the system */
  .soft-border {
    border: 1px solid color-mix(in oklab, oklch(var(--bc)) 14%, transparent);
  }

  /* Professional surfaces (glass-ish but subtle, not gimmicky) */
  .ui-surface {
    background: color-mix(in oklab, oklch(var(--b1)) 88%, transparent);
    backdrop-filter: blur(10px);
    border: 1px solid color-mix(in oklab, oklch(var(--bc)) 12%, transparent);
    box-shadow: var(--ui-shadow-sm);
    border-radius: var(--ui-radius-lg);
  }

  /* Optional: sticky headers inside overflow tables */
  .table-sticky thead th {
    position: sticky;
    top: 0;
    z-index: 10;
  }

  /* Calm dividers */
  .ui-divider {
    border-top: 1px solid color-mix(in oklab, oklch(var(--bc)) 12%, transparent);
  }
}

/* =========================================================
 * Auth-specific components (kept from your original file)
 * =======================================================*/
@layer components {
  .btn-auth-primary {
    @apply w-full rounded-xl px-4 py-2.5 text-sm font-semibold
           bg-primary text-primary-content
           hover:bg-primary/90 active:scale-[.99]
           transition-colors duration-150;
  }

  .card-auth {
    @apply bg-base-100/80 backdrop-blur
           border border-base-200/70
           shadow-2xl rounded-2xl;
  }

  .input-auth {
    @apply w-full rounded-xl
           border border-base-300/70
           bg-base-100
           px-3 py-2.5 text-sm
           focus:outline-none focus:ring-2
           focus:ring-primary/40 focus:border-primary/60
           placeholder:text-base-content/40;
  }
}

@layer utilities {
  .bg-auth-gradient {
    @apply bg-gradient-to-tr from-primary/15 via-secondary/15 to-accent/15;
  }
}

/* =========================================================
 * Animated background utilities (auth pages) – kept
 * =======================================================*/
@layer utilities {
  @keyframes float-orbit {
    0% { transform: translate3d(0, 0, 0) rotate(0deg) scale(1); opacity: 0.9; }
    25% { transform: translate3d(20px, -30px, 0) rotate(3deg) scale(1.03); opacity: 1; }
    50% { transform: translate3d(-10px, 40px, 0) rotate(-2deg) scale(0.98); opacity: 0.85; }
    75% { transform: translate3d(-30px, -20px, 0) rotate(2deg) scale(1.04); opacity: 0.95; }
    100% { transform: translate3d(10px, 10px, 0) rotate(-3deg) scale(1); opacity: 0.9; }
  }

  .animate-orbit-slow { animation: float-orbit 26s ease-in-out infinite alternate; }
  .animate-orbit-medium { animation: float-orbit 20s ease-in-out infinite alternate-reverse; }
  .animate-orbit-fast { animation: float-orbit 14s ease-in-out infinite alternate; }

  .glass-surface {
    @apply bg-base-100/80 backdrop-blur-xl border border-base-200/70 rounded-3xl;
    box-shadow: var(--ui-shadow-md);
  }
}

/* =========================================================
 * DASHBOARD – GLASS VIBRANT UI (NO BORDERS, HIGH ENERGY)
 * Used ONLY for dashboards & analytics
 * =======================================================*/
@layer components {

  /* ========== Base Glass Card ========== */
  .glass-card {
    @apply relative overflow-hidden
           rounded-[2rem]
           backdrop-blur-xl
           transition-all duration-300 ease-out;
    background:
      linear-gradient(
        135deg,
        rgba(255,255,255,0.45),
        rgba(255,255,255,0.20)
      );
    box-shadow:
      0 25px 70px rgba(0,0,0,0.18);
  }

  .glass-card:hover {
    transform: translateY(-4px) scale(1.015);
    box-shadow:
      0 35px 90px rgba(0,0,0,0.22);
  }

  /* Soft internal glow */
  .glass-card::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
      circle at top right,
      rgba(255,255,255,0.45),
      transparent 60%
    );
    pointer-events: none;
  }

  /* Floating glow blob */
  .glass-glow {
    @apply absolute rounded-full blur-3xl opacity-70;
    width: 10rem;
    height: 10rem;
    top: -3rem;
    right: -3rem;
  }

  /* ========== Color Variants (Vibrant) ========== */
  .glass-primary {
    background-image:
      linear-gradient(135deg,
        rgba(99,102,241,0.55),
        rgba(56,189,248,0.35),
        rgba(255,255,255,0.15)
      );
  }

  .glass-success {
    background-image:
      linear-gradient(135deg,
        rgba(52,211,153,0.55),
        rgba(34,211,238,0.35),
        rgba(255,255,255,0.15)
      );
  }

  .glass-warning {
    background-image:
      linear-gradient(135deg,
        rgba(251,191,36,0.55),
        rgba(251,146,60,0.35),
        rgba(255,255,255,0.15)
      );
  }

  .glass-danger {
    background-image:
      linear-gradient(135deg,
        rgba(244,63,94,0.55),
        rgba(236,72,153,0.35),
        rgba(255,255,255,0.15)
      );
  }

  .glass-info {
    background-image:
      linear-gradient(135deg,
        rgba(56,189,248,0.55),
        rgba(99,102,241,0.35),
        rgba(255,255,255,0.15)
      );
  }

  .glass-purple {
    background-image:
      linear-gradient(135deg,
        rgba(192,132,252,0.55),
        rgba(139,92,246,0.35),
        rgba(255,255,255,0.15)
      );
  }

  /* ========== Text Contrast Helpers ========== */
  .glass-title {
    @apply text-xs uppercase tracking-widest font-semibold;
    color: rgba(15,23,42,0.75);
  }

  .glass-value {
    @apply text-4xl font-black mt-2;
    color: rgba(15,23,42,0.9);
  }

  .glass-sub {
    @apply text-xs mt-1;
    color: rgba(15,23,42,0.55);
  }
}
