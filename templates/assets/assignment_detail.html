{% extends "base.html" %}

{% block title %}
Asset Assignment · Details
{% endblock %}

{% block content %}
<div class="w-full px-6 py-6 space-y-6">

  <!-- ===================================================== -->
  <!-- PAGE HEADER -->
  <!-- ===================================================== -->
  <section class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">

    <div>
      <h1 class="text-3xl font-semibold tracking-tight">
        Asset Assignment
      </h1>
      <p class="text-sm text-base-content/60">
        Read-only assignment record details.
      </p>
    </div>

    <div class="flex flex-wrap gap-2">
      <a href="{% url 'assets:assignment_list' %}"
         class="btn btn-ghost btn-sm">
        Back
      </a>

      <a href="{% url 'assets:asset_detail' object.asset.id %}"
         class="btn btn-outline btn-sm">
        Go to Asset
      </a>

      <a href="{% url 'assets:assignment_delete' object.id %}"
         class="btn btn-outline btn-error btn-sm">
        Delete
      </a>
    </div>

  </section>

  <!-- ===================================================== -->
  <!-- STATUS -->
  <!-- ===================================================== -->
  <section>
    {% if object.date_to %}
      <div class="inline-flex items-center gap-2 px-4 py-2 rounded-md bg-base-200">
        <span class="badge badge-ghost badge-sm">Closed</span>
        <span class="text-sm text-base-content/60">
          This assignment has been completed.
        </span>
      </div>
    {% else %}
      <div class="inline-flex items-center gap-2 px-4 py-2 rounded-md bg-success/10">
        <span class="badge badge-success badge-sm">Open</span>
        <span class="text-sm text-success">
          This is the active assignment.
        </span>
      </div>
    {% endif %}
  </section>

  <!-- ===================================================== -->
  <!-- DETAILS -->
  <!-- ===================================================== -->
  <section class="card bg-base-100 border border-base-200 shadow-sm">
    <div class="p-6 space-y-6">

      <h2 class="text-base font-semibold tracking-wide">
        Assignment Details
      </h2>

      <dl class="grid grid-cols-1 md:grid-cols-3 gap-x-8 gap-y-4 text-sm">

        <!-- Asset -->
        <dt class="text-base-content/60">Asset</dt>
        <dd class="font-medium md:col-span-2">
          {{ object.asset.code }} — {{ object.asset.name }}
        </dd>

        <!-- Employee -->
        <dt class="text-base-content/60">Employee</dt>
        <dd class="md:col-span-2">
          {{ object.employee }}
        </dd>

        <!-- Company -->
        <dt class="text-base-content/60">Company</dt>
        <dd class="md:col-span-2">
          {{ object.company|default:"—" }}
        </dd>

        <!-- Assigned From -->
        <dt class="text-base-content/60">Assigned From</dt>
        <dd class="md:col-span-2">
          {{ object.date_from|date:"Y-m-d"|default:"—" }}
        </dd>

        <!-- Assigned To -->
        <dt class="text-base-content/60">Assigned To</dt>
        <dd class="md:col-span-2">
          {{ object.date_to|date:"Y-m-d"|default:"—" }}
        </dd>

        <!-- Duration -->
        <dt class="text-base-content/60">Duration</dt>
        <dd class="md:col-span-2">
          {% if object.date_from %}
            {% if object.date_to %}
              {{ object.date_from|timesince:object.date_to }}
            {% else %}
              {{ object.date_from|timesince }} (ongoing)
            {% endif %}
          {% else %}
            —
          {% endif %}
        </dd>

        <!-- Note -->
        <dt class="text-base-content/60">Note</dt>
        <dd class="md:col-span-2 text-base-content/70 break-words">
          {{ object.note|default:"—" }}
        </dd>

      </dl>

    </div>
  </section>

</div>
{% endblock %}
