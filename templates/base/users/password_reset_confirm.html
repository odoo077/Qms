{% extends "base/users/auth_base.html" %}
{% load widget_tweaks %}

{% block title %}Set new password{% endblock %}

{% block content %}
<div class="card bg-base-100 shadow-xl rounded-2xl">
  <div class="card-body space-y-6">

    <!-- Header -->
    <div class="text-center space-y-1">
      <h1 class="text-2xl font-semibold">Set a new password</h1>
      <p class="text-sm text-base-content/60">
        Choose a strong password to secure your account.
      </p>
    </div>

    <!-- Non field errors -->
    {% if form.non_field_errors %}
      <div class="alert alert-error text-sm">
        {% for error in form.non_field_errors %}
          <span>{{ error }}</span>
        {% endfor %}
      </div>
    {% endif %}

    <!-- Form -->
    <form method="post" class="space-y-5">
      {% csrf_token %}

      <!-- New password -->
      <div class="form-control">
        <label class="label">
          <span class="label-text">New password</span>
        </label>
        {% render_field form.new_password1 class="input input-bordered w-full" %}
        {% if form.new_password1.errors %}
          <p class="mt-1 text-xs text-error">
            {{ form.new_password1.errors|join:", " }}
          </p>
        {% endif %}
      </div>

      <!-- Confirm password -->
      <div class="form-control">
        <label class="label">
          <span class="label-text">Confirm new password</span>
        </label>
        {% render_field form.new_password2 class="input input-bordered w-full" %}
        {% if form.new_password2.errors %}
          <p class="mt-1 text-xs text-error">
            {{ form.new_password2.errors|join:", " }}
          </p>
        {% endif %}
      </div>

      <!-- Submit -->
      <button type="submit" class="btn btn-primary w-full">
        Save new password
      </button>
    </form>

  </div>
</div>
{% endblock %}
