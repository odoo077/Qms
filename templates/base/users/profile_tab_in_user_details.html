{# ===================================================== #}
{# User Profile Tab                                     #}
{# Context: object = User                               #}
{# Usage: Included inside user_detail tabs              #}
{# ===================================================== #}

<div class="grid grid-cols-1 lg:grid-cols-3 gap-6 px-6">

  {# ===================================================== #}
  {# Profile Summary (Identity)                           #}
  {# ===================================================== #}
  <div class="card bg-base-100 border border-base-300">
    <div class="card-body items-center text-center space-y-4">

      {# Avatar #}
      <div class="avatar">
        <div class="w-24 rounded-full overflow-hidden bg-base-200">
          {% if object.avatar %}
            <img src="{{ object.avatar.url }}" alt="Avatar" class="object-cover w-full h-full">
          {% else %}
            <div class="flex items-center justify-center h-full text-primary text-3xl font-semibold">
              {{ object.display_name|slice:":1"|upper }}
            </div>
          {% endif %}
        </div>
      </div>

      {# Display name #}
      <div class="space-y-1">
        <h2 class="text-xl font-semibold leading-tight break-all">
          {{ object.display_name }}
        </h2>

        <p class="text-sm text-base-content/60 break-all">
          {{ object.email }}
        </p>
      </div>

      {# Status badges #}
      <div class="flex flex-wrap justify-center gap-2 pt-1">

        {% if object.is_active %}
          <span class="badge badge-success">Active</span>
        {% else %}
          <span class="badge badge-error">Inactive</span>
        {% endif %}

        {% if object.email_verified %}
          <span class="badge badge-outline badge-success">
            Email verified
          </span>
        {% else %}
          <span class="badge badge-outline badge-warning">
            Email not verified
          </span>
        {% endif %}

        {% if object.is_staff %}
          <span class="badge badge-outline">
            Staff
          </span>
        {% endif %}

        {% if object.is_superuser %}
          <span class="badge badge-outline badge-warning">
            Superuser
          </span>
        {% endif %}

      </div>

    </div>
  </div>

  {# ===================================================== #}
  {# Account & System Details                             #}
  {# ===================================================== #}
  <div class="lg:col-span-2 card bg-base-100 border border-base-300">
    <div class="card-body space-y-6">

      <h3 class="text-sm font-semibold text-base-content/70">
        Account details
      </h3>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 text-sm">

        <div>
          <div class="text-base-content/60">Username</div>
          <div class="font-medium break-all">
            {{ object.username }}
          </div>
        </div>

        <div>
          <div class="text-base-content/60">Email verification</div>
          <div class="font-medium">
            {{ object.email_verified|yesno:"Verified,Not verified" }}
          </div>
        </div>

        <div>
          <div class="text-base-content/60">Default company</div>
          <div class="font-medium">
            {% if object.company %}
              <a href="{% url 'base:company_detail' object.company.pk %}"
                 class="link link-hover">
                {{ object.company.name }}
              </a>
            {% else %}
              —
            {% endif %}
          </div>
        </div>

        <div>
          <div class="text-base-content/60">Time zone</div>
          <div class="font-medium">
            {{ object.settings.tz|default:"—" }}
          </div>
        </div>

        <div>
          <div class="text-base-content/60">Joined</div>
          <div class="font-medium">
            {{ object.date_joined|date:"Y-m-d H:i" }}
          </div>
        </div>

        <div>
          <div class="text-base-content/60">Last login</div>
          <div class="font-medium">
            {{ object.last_login|date:"Y-m-d H:i"|default:"—" }}
          </div>
        </div>

      </div>

      <div class="divider"></div>

      <div class="flex justify-between text-xs text-base-content/50">
        <span>User ID: #{{ object.id }}</span>
        <span>Record managed by system</span>
      </div>

    </div>
  </div>

</div>
