<form method="get"
      class="rounded-xl border border-base-300 bg-base-100
             p-4 sm:p-5 mb-6 space-y-4">

  <!-- ===================================================== -->
  <!-- Filters row -->
  <!-- ===================================================== -->
  <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4 items-end">

    <!-- ðŸ” Search -->
    <div class="form-control">
      <label class="label py-0">
        <span class="label-text text-xs font-medium text-base-content/70">
          Search
        </span>
      </label>
      <input
        type="text"
        name="q"
        value="{{ filters.q }}"
        placeholder="{{ search_config.placeholder|default:'Searchâ€¦' }}"
        class="input input-bordered input-sm w-full"
      />
    </div>

    <!-- ðŸ¢ Company -->
    {% if search_config.show_company_filter %}
    <div class="form-control">
      <label class="label py-0">
        <span class="label-text text-xs font-medium text-base-content/70">
          Company
        </span>
      </label>
      <select name="company" class="select select-bordered select-sm w-full">
        <option value="">All allowed</option>
        {% for c in allowed_companies %}
          <option value="{{ c.id }}"
                  {% if filters.company == c.id|stringformat:"s" %}selected{% endif %}>
            {{ c.name }}
          </option>
        {% endfor %}
      </select>
    </div>
    {% endif %}

    <!-- âœ… Status -->
    {% if search_config.show_active_filter %}
    <div class="form-control">
      <label class="label py-0">
        <span class="label-text text-xs font-medium text-base-content/70">
          Status
        </span>
      </label>
      <select name="active" class="select select-bordered select-sm w-full">
        <option value="">All</option>
        <option value="1" {% if filters.active == "1" %}selected{% endif %}>Active</option>
        <option value="0" {% if filters.active == "0" %}selected{% endif %}>Inactive</option>
      </select>
    </div>
    {% endif %}

    <!-- â± Range -->
    {% if search_config.show_range_filter %}
    <div class="form-control">
      <label class="label py-0">
        <span class="label-text text-xs font-medium text-base-content/70">
          Date range
        </span>
      </label>
      <select name="range" class="select select-bordered select-sm w-full">
        <option value="">â€”</option>
        <option value="today" {% if filters.range == "today" %}selected{% endif %}>Today</option>
        <option value="week"  {% if filters.range == "week" %}selected{% endif %}>This week</option>
        <option value="month" {% if filters.range == "month" %}selected{% endif %}>This month</option>
        <option value="year"  {% if filters.range == "year" %}selected{% endif %}>This year</option>
      </select>
    </div>
    {% endif %}

  </div>

  <!-- ===================================================== -->
  <!-- Advanced filters (extended by child templates) -->
  <!-- ===================================================== -->
  {% block advanced_filters %}{% endblock %}

  <!-- ===================================================== -->
  <!-- Actions -->
  <!-- ===================================================== -->
  <div class="flex flex-wrap items-center justify-between gap-3 pt-2 border-t border-base-200">

    <div class="flex gap-2">
      <button type="submit" class="btn btn-primary btn-sm">
        Apply filters
      </button>

      {% if request.GET %}
        <a href="{{ request.path }}"
           class="btn btn-ghost btn-sm">
          Reset
        </a>
      {% endif %}
    </div>

  </div>

</form>
